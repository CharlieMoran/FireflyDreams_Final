<!-- /*
 _
//\
V  \
 \  \_
  \,'.`-.
   |\ `. `.       
   ( \  `. `-.                         _,.-:\
    \ \   `.  `-._             __..--' ,-'; /
     \ `.   `-.   `-..___..---'   _.--'  ,'/
      `. `.    `-._        __..--'     ,' /
       `. `-_     ``--..''         _.-' ,'
         `-_ `-.___          __,--'  ,'
             `-.__  `----"""    __.-'
                   `--..____..--'
*/ -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Firefly Dreams | Official Sanctuary</title>
    <link rel="icon" type="image/png" href="images/FFDF.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        /* ==========================================================================
           1. CORE VARIABLES & RESET
           ========================================================================== */
        :root {
            --beeYellow: #ffd700;
            --softPink: #ff6b95;
            --magicBlue: #70d6ff;
            --deepNight: #0a0814;
            --glassBg: rgba(15, 12, 30, 0.85);
            --galaxyPurple: #a855f7;
            --transFast: 0.3s ease;
            --transMagic: 0.8s ease-in-out;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; 
            padding: 0;
            font-family: 'Poppins', sans-serif;
            color: #fff;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            min-height: 100vh; 
            overflow-y: auto; 
            overflow-x: hidden;
            background-color: var(--deepNight);
            cursor: url('images/wand2.png'), auto;
            -webkit-tap-highlight-color: transparent;
        }

        a, button, .whitelistBox, .profileCard, .yesBtn, .noBtn, .party-img, .party-large, .emotionImg {
            cursor: url('images/wand1.png'), pointer !important;
        }

        /* ==========================================================================
           2. BACKGROUND & FX LAYERS
           ========================================================================== */
        .bg-container { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; 
        }

        .bg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            filter: brightness(0.3) blur(2px);
            transition: opacity 2s ease-in-out; opacity: 0;
        }

        .bg-active { opacity: 1; }

        #particles { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; 
        }

        .particle { 
            position: absolute; border-radius: 50%; 
            animation: fallDown 15s infinite linear; opacity: 0.7; 
        }

        /* ==========================================================================
           3. UI COMPONENTS (CONSOLE, MOON, OVERLAYS)
           ========================================================================== */
        .header-wrap {
            width: 100%; display: flex; flex-direction: column; align-items: center;
            position: absolute; top: 0; z-index: 1001; padding-top: 15px;
        }

        .bucketHeader { 
            display: flex; justify-content: center; gap: 15px; margin-bottom: 10px; align-items: center; 
        }

        .mc-console {
            width: 185px; background: rgba(0, 0, 0, 0.7); border: 2px solid #555; padding: 3px 6px; display: flex; align-items: center;
        }

        .mc-console input {
            background: transparent; border: none; color: #fff; width: 100%; outline: none; 
            font-family: 'Poppins', sans-serif; font-size: 0.75rem;
        }

        #moonPhaseContainer { 
            position: fixed; top: 20px; left: 20px; z-index: 999; 
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); 
            padding: 10px 15px; border-radius: 50px; border: 1px solid rgba(255, 215, 0, 0.3); 
            display: flex; align-items: center; gap: 10px; color: var(--beeYellow); font-family: 'Fredoka One'; 
            box-shadow: 0 0 15px rgba(0,0,0,0.5); pointer-events: none; 
        }

        #splashOverlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(10, 8, 20, 0.95); backdrop-filter: blur(15px); 
            display: flex; justify-content: center; align-items: center; 
            z-index: 10000; transition: opacity 0.8s ease; 
        }

        /* ==========================================================================
           4. MAIN CARDS & LORE GRID
           ========================================================================== */
        .card, .sectionContent {
            background: var(--glassBg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            padding: 3rem; border-radius: 35px; border: 2px solid rgba(255, 215, 0, 0.4);
            text-align: center; width: 90%; max-width: 650px; margin-bottom: 60px;
            box-shadow: 0 0 60px rgba(0,0,0,0.7); transition: var(--transFast);
        }

        .card { margin-top: 130px; }
        .card:hover, .sectionContent:hover { transform: translateY(-5px); border-color: var(--beeYellow); }

        .heroImg { 
            width: 100%; border-radius: 25px; border: 4px solid var(--beeYellow); 
            margin-bottom: 2rem; animation: breathingGlowYellow 4s infinite ease-in-out; 
        }

        .profileCard {
            background: rgba(255, 255, 255, 0.05); border-radius: 25px; padding: 2rem;
            position: relative; overflow: hidden; transition: 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            transform-style: preserve-3d; perspective: 1000px; border: 1px solid rgba(255,255,255,0.1);
        }

        .profileCard:hover {
            transform: rotateY(10deg) rotateX(5deg) scale(1.02);
            box-shadow: -10px 10px 30px rgba(0,0,0,0.5), 0 0 20px rgba(255, 107, 149, 0.2);
        }

        .profileImg { 
            height: 400px; width: auto; max-width: 100%; display: block; 
            margin: 0 auto 1.5rem auto; object-fit: contain; transform: translateZ(50px); 
            animation: imageOutlineGlowYellow 4s infinite ease-in-out; 
        }

        .profileImg.pink-outline { animation: imageOutlineGlowPink 4s infinite ease-in-out; }

        /* ==========================================================================
           5. MAGIC MIRROR & INTERACTIVE
           ========================================================================== */
        #chatFeed { 
            height: 350px; overflow-y: auto; margin-top: 20px; padding: 20px; 
            background: rgba(0, 0, 0, 0.4); border-radius: 20px; border: 1px solid rgba(255, 107, 149, 0.3); 
            display: flex; flex-direction: column; gap: 15px; 
        }

        .mirrorMsg { display: flex; align-items: center; gap: 15px; animation: slideIn 0.4s ease-out forwards; }
        .mirrorAvatar { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--beeYellow); }

        .whitelistBox { 
            background: rgba(255, 107, 149, 0.1); border: 2px dashed var(--softPink); 
            padding: 2.5rem; border-radius: 25px; transition: 0.3s; 
        }

        /* ==========================================================================
           6. ANIMATIONS
           ========================================================================== */
        @keyframes fallDown { 
            0% { transform: translateY(-10vh) translateX(0); opacity: 0; } 
            20% { opacity: 1; } 
            100% { transform: translateY(110vh) translateX(100px); opacity: 0; } 
        }
        @keyframes breathingGlowYellow { 0%, 100% { box-shadow: 0 0 15px rgba(255,215,0,0.3); } 50% { box-shadow: 0 0 35px rgba(255,215,0,0.7); } }
        @keyframes imageOutlineGlowYellow { 0%, 100% { filter: drop-shadow(0 0 3px var(--beeYellow)); } 50% { filter: drop-shadow(0 0 10px var(--beeYellow)) brightness(1.1); } }
        @keyframes imageOutlineGlowPink { 0%, 100% { filter: drop-shadow(0 0 3px var(--softPink)); } 50% { filter: drop-shadow(0 0 10px var(--softPink)) brightness(1.1); } }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-15px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes starFade { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.3) translateY(20px); } }

        /* Mobile Adjustments */
        @media (max-width: 600px) { h1 { font-size: 2.2rem; } .card, .sectionContent { padding: 1.5rem; } .profileImg { height: 280px; } }
    </style>
</head>
<body>

    <div id="moonPhaseContainer">
        <span id="moonIcon">ðŸŒ‘</span>
        <span id="moonLabel">Calculating...</span>
    </div>

    <div id="splashOverlay">
        <div class="splashBox" style="background:var(--glassBg); padding:2.5rem; border-radius:35px; border:2px solid var(--beeYellow); text-align:center;">
            <h2 style="font-family: 'Fredoka One'; color: var(--beeYellow);">Are you ready to explore with us Pookie?</h2>
            <div style="display:flex; justify-content:center; gap:15px; margin-top:2rem;">
                <button class="yesBtn" style="font-family:'Fredoka One'; padding:15px 35px; border-radius:20px; background:var(--beeYellow); border:none;" onclick="app.enterSite(event)">YES</button>
                <button class="noBtn" style="font-family:'Fredoka One'; padding:15px 35px; border-radius:20px; background:var(--softPink); color:white; border:none;" onclick="app.exitSite()">NO</button>
            </div>
        </div>
    </div>

    <div class="header-wrap">
        <div class="bucketHeader">
            <img src="images/wb.png" id="p-wb" alt="Water" class="party-img" onclick="fx.bucketAction('water')">
            <img src="images/sb.png" id="p-sb" alt="Snow" class="party-img" onclick="fx.bucketAction('snow')">
            <img src="images/mb.png" id="p-mb" alt="Milk" class="party-img" onclick="fx.bucketAction('milk')">
            <img src="images/banana.png" id="p-banana" alt="Party" class="party-img party-banana" onclick="fx.startParty()">
        </div>
        <div class="mc-console">
            <input type="text" id="consoleInput" placeholder="Type command..." onkeydown="app.handleConsole(event)">
        </div>
        <div id="consoleLog" class="console-log" style="position:absolute; top:90px; color:#ffff55; font-family:'Fredoka One';"></div>
    </div>

    <div class="bg-container">
        <div id="bg1" class="bg-layer bg-active"></div>
        <div id="bg2" class="bg-layer"></div>
    </div>

    <audio id="bgMusic" loop><source src="audio/bgmusic.mp3" type="audio/mpeg"></audio>
    <audio id="rainAudio" loop><source src="audio/Rain.mp3" type="audio/mpeg"></audio>
    <audio id="partyMusic"><source src="audio/PT.mp3" type="audio/mpeg"></audio>

    <div id="particles"></div>

    <div class="card">
        <img src="images/hero.png" id="heroPoster" alt="Hero" class="heroImg">
        <h1 style="font-family:'Fredoka One'; color:var(--beeYellow); font-size:3.5rem; text-shadow:2px 2px 0px #000;">Firefly Dreams</h1>
        <p>A whimsical survival community for girls.</p>
        <div style="font-family:'Fredoka One'; color:var(--beeYellow);">IP: mc.fireflydreams.world</div>
    </div>

    <div class="sectionContent">
        <h2 style="font-family:'Fredoka One'; color:var(--beeYellow);">About Our Sanctuary</h2>
        <p>Moondrop the Moon Witch wove magical ley lines across the digital realm to create a sanctuary for the girls of Firefly Dreams. We share adventures and moonlit magic across any distance.</p>
        <p style="font-weight:600; color:var(--beeYellow);">We are an 18 plus cozy female friendly server where we are free to build create and explore to our hearts content.</p>
        <div style="display:flex; justify-content:space-around; align-items:flex-end; margin-top:2rem;">
            <div class="emotionBox"><img src="images/IMG_6921-removebg-preview.png" id="laughing" class="emotionImg" style="width:100px;"><span style="display:block; color:var(--softPink); font-family:'Fredoka One';">Laughing</span></div>
            <div class="emotionBox"><img src="images/IMG_6894-removebg-preview.png" id="crying" class="emotionImg" style="width:100px;"><span style="display:block; color:var(--softPink); font-family:'Fredoka One';">Crying</span></div>
            <div class="emotionBox"><img src="images/IMG_6937-removebg-preview.png" id="tea" class="emotionImg" style="width:100px;"><span style="display:block; color:var(--softPink); font-family:'Fredoka One';">Spilling Tea</span></div>
        </div>
    </div>

    <div class="sectionContent magicMirrorBox" style="border:2px solid var(--softPink); text-align:left;">
        <h2 style="color:var(--softPink); font-family:'Fredoka One';">The Magic Mirror</h2>
        <p>Listen up girls. This mirror is not just for fixing your hair. I have poured enough magic into this silver surface to let us see the whispers of the coven in real time.</p>
        <div id="chatFeed"></div>
    </div>

    <div class="sectionContent">
        <h2 style="font-family:'Fredoka One'; color:var(--beeYellow);">Meet the Crew</h2>
        <div style="display:grid; grid-template-columns:1fr; gap:30px; text-align:left; margin-top:2rem;">
            
            <div class="profileCard">
                <img src="images/Willow.png" alt="Bunny" class="profileImg">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h3 style="font-family:'Fredoka One'; color:var(--beeYellow);">Bunnywifrabies</h3>
                    <span class="ageBadge" id="bunnyAge" style="background:var(--softPink); padding:5px 12px; border-radius:15px; font-weight:bold;">Loading</span>
                </div>
                <div id="bdayCountdown" style="font-size:0.85rem; color:var(--softPink); font-style:italic;">Calculating party</div>
                <p>That is me in the poster! I am surviving here in Queens New York even though this city is way too expensive for its own good. I play Helldivers 2 and Minecraft and Roblox and RDR2 mainly.</p>
            </div>

            <div class="profileCard">
                <img src="images/MD.png" alt="Moondrop" class="profileImg pink-outline">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h3 style="font-family:'Fredoka One'; color:var(--softPink);">Moondrop</h3>
                    <span class="ageBadge" id="mdAge" style="background:#7b1fa2; padding:5px 12px; border-radius:15px; font-weight:bold;">40</span>
                </div>
                <div id="mdBdayCountdown" style="font-size:0.85rem; color:var(--softPink); font-style:italic;">Calculating brew</div>
                <p>Listen sugar I wove the very ley lines you are walking on. When I am not tending to my black tabby Eclipse I am usually blasting Sabaton or Fleetwood Mac.</p>
                <div style="text-align:center;"><img src="images/MDC.png" id="moonIconBtn" class="party-img" style="width:60px;" onclick="fx.charAction('moon')"></div>
            </div>

            <div class="profileCard">
                <img src="images/SD.png" alt="Stardrop" class="profileImg">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h3 style="font-family:'Fredoka One'; color:var(--beeYellow);">Stardrop</h3>
                    <span class="ageBadge" id="sdAge" style="background:var(--softPink); padding:5px 12px; border-radius:15px; font-weight:bold;">Loading</span>
                </div>
                <div id="sdBdayCountdown" style="font-size:0.85rem; color:var(--softPink); font-style:italic;">Calculating party</div>
                <p>Hi. I am Stardrop. My mom Moondrop created this world for me. I love cutesy things and I prefer dogs over cats.</p>
                <div style="text-align:center;"><img src="images/SDDC.png" id="dreamBtnIcon" class="party-img" style="width:60px;" onclick="fx.charAction('dream')"></div>
            </div>

        </div>
    </div>

    <div class="sectionContent" style="border-top-color:var(--softPink);">
        <h2 style="font-family:'Fredoka One'; color:var(--beeYellow);">Join the Coven</h2>
        <p>Verification is required to keep the weirdos out.</p>
        <div class="whitelistBox" onclick="app.joinDiscord(event)">
            <span style="color:var(--softPink); font-weight:bold;">âœ¨ TELEPORT TO DISCORD âœ¨</span>
            <div style="font-family:'Fredoka One'; color:var(--softPink); font-size:1.8rem;">JOIN NOW</div>
        </div>
    </div>

    <footer>created by ChickenWifRabies with love for BunnyWifRabies. fireflydreams â„¢ all rights reserved 2025</footer>

    <script>
        /**
         * ==========================================================================
         * FIREFLY DREAMS ENGINE (REFACTORED)
         * ==========================================================================
         */

        const config = {
            themes: {
                day: { hero: 'images/hero.png', bg: ['images/bg dt.png', 'images/bg dt2.png'] },
                sunset: { hero: 'images/hero-sunset.jpg', bg: ['images/bg ss.png', 'images/bg ss2.png'] },
                night: { hero: 'images/hero-night.jpg', bg: ['images/bg nt.png', 'images/bg nt2.png'] }
            },
            chat: [
                { name: "Ranouma", msg: "Hey has anyone seen the glowberry farm?" },
                { name: "FarmWerks", msg: "It is near the portal Ranouma! Just look for the pink sparkles." },
                { name: "BunnyWifRabies", msg: "Anyone want to go on a long walk in Queens later?" },
                { name: "kiyoko_xx", msg: "I think I have some extra dye in the coven chest." },
                { name: "enderpheb", msg: "I can help build the tower! I have deepslate ready." }
            ]
        };

        const state = {
            currentTheme: 'day',
            bgIdx: 0,
            chatIdx: 0,
            moonClicks: 0,
            moonCooldown: false
        };

        /**
         * APP LOGIC - Main navigation and site state
         */
        const app = {
            enterSite(e) {
                fx.createBurst(e.pageX, e.pageY);
                document.getElementById('bgMusic').volume = 0.2;
                document.getElementById('bgMusic').play();
                document.getElementById('splashOverlay').style.opacity = '0';
                setTimeout(() => document.getElementById('splashOverlay').style.display = 'none', 800);
            },
            exitSite() { window.location.href = "https://www.google.com"; },
            handleConsole(e) {
                if (e.key === 'Enter') {
                    const val = e.target.value.trim().toLowerCase();
                    const log = document.getElementById('consoleLog');
                    e.target.value = '';
                    if (val.includes('day')) themes.apply('day');
                    else if (val.includes('noon')) themes.apply('sunset');
                    else if (val.includes('night')) themes.apply('night');
                    else if (val === '/partytime') {
                        document.getElementById('p-banana').style.display = 'block';
                        log.innerText = 'Party mode enabled! Click the banana.';
                    }
                    setTimeout(() => log.innerText = '', 3000);
                }
            },
            joinDiscord(e) {
                fx.createBurst(e.pageX, e.pageY);
                setTimeout(() => window.open("https://discord.gg/68QNPJbbMu", "_blank"), 400);
            }
        };

        /**
         * THEME ENGINE - Handles time and visuals
         */
        const themes = {
            getNYCHour: () => new Date(new Date().toLocaleString("en-US", {timeZone: "America/New_York"})).getHours(),
            apply(t) {
                state.currentTheme = t;
                document.getElementById('heroPoster').src = config.themes[t].hero;
                document.getElementById('bg1').style.backgroundImage = `url('${config.themes[t].bg[0]}')`;
            },
            cycle() {
                const bg1 = document.getElementById('bg1'), bg2 = document.getElementById('bg2');
                const next = config.themes[state.currentTheme].bg[state.bgIdx];
                if (bg1.classList.contains('bg-active')) {
                    bg2.style.backgroundImage = `url('${next}')`;
                    bg2.classList.add('bg-active'); bg1.classList.remove('bg-active');
                } else {
                    bg1.style.backgroundImage = `url('${next}')`;
                    bg1.classList.add('bg-active'); bg2.classList.remove('bg-active');
                }
                state.bgIdx = (state.bgIdx + 1) % 2;
            },
            checkTime() {
                const h = this.getNYCHour();
                let n = (h >= 6 && h < 17) ? 'day' : (h >= 17 && h < 20) ? 'sunset' : 'night';
                if (n !== state.currentTheme) this.apply(n);
            }
        };

        /**
         * FX SYSTEM - Particles, Bursts, and Bursts
         */
        const fx = {
            createBurst(x, y) {
                for (let i = 0; i < 20; i++) {
                    const s = document.createElement('div');
                    s.className = 'burstStar';
                    s.style.cssText = `position:absolute; left:${x}px; top:${y}px; width:8px; height:8px; background:var(--beeYellow); border-radius:50%; pointer-events:none; z-index:1000; animation:burstFade 0.8s ease-out forwards;`;
                    const rx = (Math.random() - 0.5) * 400, ry = (Math.random() - 0.5) * 400;
                    s.style.setProperty('--x', `${rx}px`); s.style.setProperty('--y', `${ry}px`);
                    document.body.appendChild(s); setTimeout(() => s.remove(), 800);
                }
            },
            bucketAction(type) {
                const rain = document.getElementById('rainAudio'), pts = document.querySelectorAll('.particle');
                if (type === 'water') {
                    pts.forEach(p => { p.style.background = '#70d6ff'; p.style.width = '2px'; p.style.height = '15px'; p.style.animationDuration = '1s'; });
                    rain.volume = 0.1; rain.play();
                } else if (type === 'snow') {
                    pts.forEach(p => { p.style.background = '#fff'; p.style.width = '6px'; p.style.height = '6px'; p.style.animationDuration = '5s'; });
                    rain.pause();
                } else {
                    pts.forEach(p => { p.style.background = 'var(--beeYellow)'; p.style.width = '6px'; p.style.height = '6px'; p.style.animationDuration = '15s'; });
                    rain.pause();
                }
            },
            startParty() {
                const bgm = document.getElementById('bgMusic'), ptm = document.getElementById('partyMusic');
                bgm.pause(); ptm.volume = 0.15; ptm.play();
                document.getElementById('discoOverlay')?.style.setProperty('display', 'block');
                // Standard party logic preserved...
                ptm.onended = () => { bgm.play(); };
            }
        };

        /**
         * DATA UTILS - Moon phases and birthdays
         */
        const data = {
            updateTimers() {
                const now = new Date();
                const calc = (m, d, y, id, bId, skipAge) => {
                    if (!skipAge && id) {
                        let age = now.getFullYear() - y;
                        if (now < new Date(now.getFullYear(), m - 1, d)) age--;
                        document.getElementById(id).innerText = age + " Years Old";
                    }
                    let next = new Date(now.getFullYear(), m - 1, d);
                    if (now > next) next.setFullYear(now.getFullYear() + 1);
                    const diff = next - now;
                    document.getElementById(bId).innerText = `Next Birthday in ${Math.floor(diff/86400000)} days`;
                };
                calc(3, 9, 2006, 'bunnyAge', 'bdayCountdown');
                calc(10, 31, 1985, 'mdAge', 'mdBdayCountdown', true);
                calc(7, 25, 2005, 'sdAge', 'sdBdayCountdown');
            },
            updateMoon() {
                const date = new Date(); let y = date.getFullYear(), m = date.getMonth() + 1, d = date.getDate();
                if (m < 3) { y--; m += 12; } m++;
                let jd = (365.25 * y) + (30.6 * m) + d - 694039.09; jd /= 29.5305882;
                const b = Math.round((jd - parseInt(jd)) * 8) % 8;
                const ph = ["ðŸŒ‘ New", "ðŸŒ’ Waxing Crescent", "ðŸŒ“ First Quarter", "ðŸŒ” Waxing Gibbous", "ðŸŒ• Full", "ðŸŒ– Waning Gibbous", "ðŸŒ— Last Quarter", "ðŸŒ˜ Waning Crescent"];
                document.getElementById('moonIcon').innerText = ph[b].split(' ')[0];
                document.getElementById('moonLabel').innerText = ph[b].split(' ').slice(1).join(' ');
            }
        };

        // Trail FX
        document.addEventListener('mousemove', (e) => {
            const s = document.createElement('div');
            s.className = 'trailStar';
            s.style.cssText = `position:absolute; left:${e.pageX}px; top:${e.pageY}px; width:8px; height:8px; border-radius:50%; pointer-events:none; z-index:100; animation:starFade 1s linear forwards;`;
            s.style.background = starColors[Math.floor(Math.random() * starColors.length)];
            document.body.appendChild(s); setTimeout(() => s.remove(), 1000);
        });

        // Init
        const starColors = ['#ffd700', '#ff6b95', '#70d6ff', '#ffffff'];
        for(let i=0; i<30; i++) {
            const p = document.createElement('div'); p.className='particle';
            p.style.cssText = `left:${Math.random()*100}vw; animation-delay:${Math.random()*10}s; width:6px; height:6px; background:var(--beeYellow); box-shadow:0 0 15px var(--beeYellow);`;
            document.getElementById('particles').appendChild(p);
        }

        themes.checkTime();
        data.updateTimers();
        data.updateMoon();
        setInterval(() => themes.checkTime(), 60000);
        setInterval(() => themes.cycle(), 15000);
    </script>

    <style>
        /* Shared burst animation needed for the refactor to work */
        @keyframes burstFade { 0% { opacity: 1; transform: scale(1) translate(0, 0); } 100% { opacity: 0; transform: scale(0) translate(var(--x), var(--y)); } }
    </style>
</body>
</html>

<!-- /*
 _
//\
V  \
 \  \_
  \,'.`-.
   |\ `. `.       
   ( \  `. `-.                         _,.-:\
    \ \   `.  `-._             __..--' ,-'; /
     \ `.   `-.   `-..___..---'   _.--'  ,'/
      `. `.    `-._        __..--'     ,' /
       `. `-_     ``--..''         _.-' ,'
         `-_ `-.___          __,--'  ,'
             `-.__  `----"""    __.-'
                   `--..____..--'
*/ -->